"use strict";(self.webpackChunktramita=self.webpackChunktramita||[]).push([["src_views_StageManager_vue"],{9210(t,e,a){a.d(e,{F:()=>o});var r=a(6802);const s=(0,a(3814).Jv)("/apps/tramita/api/v1"),o=r.Ay.create({baseURL:s});o.interceptors.response.use(t=>t,t=>(402===t.response?.status&&window.dispatchEvent(new CustomEvent("tramita:license-required")),Promise.reject(t)))},4452(t,e,a){a.d(e,{U:()=>n});var r=a(810),s=a(9210);const o={getAll:async()=>(await s.F.get("/process-types")).data,getById:async t=>(await s.F.get(`/process-types/${t}`)).data,create:async t=>(await s.F.post("/process-types",t)).data,update:async(t,e)=>(await s.F.put(`/process-types/${t}`,e)).data,delete:async t=>(await s.F.delete(`/process-types/${t}`)).data,restore:async t=>(await s.F.put(`/process-types/${t}/restore`)).data},n=(0,r.nY)("processType",{state:()=>({processTypes:[],currentProcessType:null,loading:!1,error:null}),getters:{activeProcessTypes:t=>t.processTypes.filter(t=>t.isActive),getById:t=>e=>t.processTypes.find(t=>t.id===e)},actions:{async fetchAll(){this.loading=!0,this.error=null;try{this.processTypes=await o.getAll()}catch(t){throw this.error=t.response?.data?.error||"Erro ao carregar tipos de processo",t}finally{this.loading=!1}},async fetchById(t){this.loading=!0,this.error=null;try{return this.currentProcessType=await o.getById(t),this.currentProcessType}catch(t){throw this.error=t.response?.data?.error||"Erro ao carregar tipo de processo",t}finally{this.loading=!1}},async create(t){try{const e=await o.create(t);return this.processTypes.push(e),e}catch(t){throw this.error=t.response?.data?.error||"Erro ao criar tipo de processo",t}},async update(t,e){try{const a=await o.update(t,e),r=this.processTypes.findIndex(e=>e.id===t);return-1!==r&&(this.processTypes[r]=a),this.currentProcessType?.id===t&&(this.currentProcessType=a),a}catch(t){throw this.error=t.response?.data?.error||"Erro ao atualizar tipo de processo",t}},async remove(t){try{await o.delete(t),this.processTypes=this.processTypes.filter(e=>e.id!==t)}catch(t){throw this.error=t.response?.data?.error||"Erro ao excluir tipo de processo",t}},async restore(t){try{const e=await o.restore(t);return this.processTypes.push(e),e}catch(t){throw this.error=t.response?.data?.error||"Erro ao restaurar tipo de processo",t}}}})},5324(t,e,a){a.d(e,{L:()=>n});var r=a(810),s=a(9210);const o={getByProcessType:async t=>(await s.F.get(`/process-types/${t}/stages`)).data,getById:async t=>(await s.F.get(`/stages/${t}`)).data,create:async(t,e)=>(await s.F.post(`/process-types/${t}/stages`,e)).data,update:async(t,e)=>(await s.F.put(`/stages/${t}`,e)).data,delete:async t=>(await s.F.delete(`/stages/${t}`)).data,reorder:async(t,e)=>(await s.F.put(`/process-types/${t}/stages/reorder`,{stageIds:e})).data},n=(0,r.nY)("stage",{state:()=>({stages:[],loading:!1,error:null}),getters:{getByProcessType:t=>e=>t.stages.filter(t=>t.procTypeId===e),getById:t=>e=>t.stages.find(t=>t.id===e)},actions:{async fetchByProcessType(t){this.loading=!0,this.error=null;try{const e=await o.getByProcessType(t);return this.stages=[...this.stages.filter(e=>e.procTypeId!==t),...e],e}catch(t){throw this.error=t.response?.data?.error||"Erro ao carregar etapas",t}finally{this.loading=!1}},async create(t,e){try{const a=await o.create(t,e);return this.stages.push(a),a}catch(t){throw this.error=t.response?.data?.error||"Erro ao criar etapa",t}},async update(t,e){try{const a=await o.update(t,e),r=this.stages.findIndex(e=>e.id===t);return-1!==r&&(this.stages[r]=a),a}catch(t){throw this.error=t.response?.data?.error||"Erro ao atualizar etapa",t}},async remove(t){try{await o.delete(t),this.stages=this.stages.filter(e=>e.id!==t)}catch(t){throw this.error=t.response?.data?.error||"Erro ao excluir etapa",t}},async reorder(t,e){try{await o.reorder(t,e),e.forEach((t,e)=>{const a=this.stages.find(e=>e.id===t);a&&(a.sortOrder=e)})}catch(t){throw this.error=t.response?.data?.error||"Erro ao reordenar etapas",t}}}})},4316(t,e,a){a.d(e,{A:()=>i});var r=a(1354),s=a.n(r),o=a(6314),n=a.n(o)()(s());n.push([t.id,".stage-manager[data-v-963e9dba]{padding:20px;max-width:900px}.stage-manager__header[data-v-963e9dba]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.stage-manager__header h2[data-v-963e9dba]{margin:0}.stage-item[data-v-963e9dba]{display:flex;align-items:center;gap:12px;padding:12px 16px;border-radius:var(--border-radius-large);background:var(--color-background-dark);transition:background .2s;margin-bottom:8px}.stage-item[data-v-963e9dba]:hover{background:var(--color-background-hover)}.stage-item__color[data-v-963e9dba]{width:12px;height:12px;border-radius:50%;flex-shrink:0}.stage-item__info[data-v-963e9dba]{flex:1;display:flex;flex-direction:column;gap:4px;min-width:0}.stage-item__name[data-v-963e9dba]{font-weight:bold;font-size:14px}.stage-item__badges[data-v-963e9dba]{display:flex;gap:6px;flex-wrap:wrap}.stage-item__desc[data-v-963e9dba]{font-size:13px;color:var(--color-text-maxcontrast);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.stage-item__actions[data-v-963e9dba]{display:flex;gap:4px;flex-shrink:0}.drag-handle[data-v-963e9dba]{cursor:grab;display:flex;align-items:center;color:var(--color-text-maxcontrast);flex-shrink:0}.drag-handle[data-v-963e9dba]:active{cursor:grabbing}.stage-badge[data-v-963e9dba]{font-size:11px;padding:2px 8px;border-radius:var(--border-radius-pill);font-weight:600}.stage-badge--initial[data-v-963e9dba]{background:var(--color-primary-element);color:var(--color-primary-element-text)}.stage-badge--final[data-v-963e9dba]{background:var(--color-success);color:#fff}.stage-badge--sla[data-v-963e9dba]{background:var(--color-warning);color:#fff}.stage-modal[data-v-963e9dba]{padding:20px;min-width:400px}.stage-modal h2[data-v-963e9dba]{margin-top:0;margin-bottom:16px}.form-group[data-v-963e9dba]{margin-bottom:12px}.form-group label[data-v-963e9dba]{display:block;font-weight:600;margin-bottom:4px;font-size:14px}.form-group input[type=text][data-v-963e9dba],.form-group input[type=number][data-v-963e9dba],.form-group textarea[data-v-963e9dba]{width:100%;padding:8px 10px;border:1px solid var(--color-border-dark);border-radius:var(--border-radius);font-size:14px;background:var(--color-main-background);color:var(--color-main-text)}.form-group input[type=text][data-v-963e9dba]:focus,.form-group input[type=number][data-v-963e9dba]:focus,.form-group textarea[data-v-963e9dba]:focus{border-color:var(--color-primary-element);outline:none}.form-group--half[data-v-963e9dba]{flex:1}.form-row[data-v-963e9dba]{display:flex;gap:12px}.color-input[data-v-963e9dba]{height:36px;padding:2px;cursor:pointer}.checkbox-label[data-v-963e9dba]{display:flex !important;align-items:center;gap:8px;cursor:pointer;font-weight:400 !important}.checkbox-label input[type=checkbox][data-v-963e9dba]{width:auto;margin:0}.form-actions[data-v-963e9dba]{display:flex;justify-content:flex-end;gap:8px;margin-top:16px;padding-top:16px;border-top:1px solid var(--color-border)}","",{version:3,sources:["webpack://./src/views/StageManager.vue"],names:[],mappings:"AACA,gCACC,YAAA,CACA,eAAA,CAEA,wCACC,YAAA,CACA,6BAAA,CACA,kBAAA,CACA,kBAAA,CAEA,2CACC,QAAA,CAKH,6BACC,YAAA,CACA,kBAAA,CACA,QAAA,CACA,iBAAA,CACA,wCAAA,CACA,uCAAA,CACA,yBAAA,CACA,iBAAA,CAEA,mCACC,wCAAA,CAGD,oCACC,UAAA,CACA,WAAA,CACA,iBAAA,CACA,aAAA,CAGD,mCACC,MAAA,CACA,YAAA,CACA,qBAAA,CACA,OAAA,CACA,WAAA,CAGD,mCACC,gBAAA,CACA,cAAA,CAGD,qCACC,YAAA,CACA,OAAA,CACA,cAAA,CAGD,mCACC,cAAA,CACA,mCAAA,CACA,kBAAA,CACA,eAAA,CACA,sBAAA,CAGD,sCACC,YAAA,CACA,OAAA,CACA,aAAA,CAIF,8BACC,WAAA,CACA,YAAA,CACA,kBAAA,CACA,mCAAA,CACA,aAAA,CAEA,qCACC,eAAA,CAIF,8BACC,cAAA,CACA,eAAA,CACA,uCAAA,CACA,eAAA,CAEA,uCACC,uCAAA,CACA,uCAAA,CAGD,qCACC,+BAAA,CACA,UAAA,CAGD,mCACC,+BAAA,CACA,UAAA,CAIF,8BACC,YAAA,CACA,eAAA,CAEA,iCACC,YAAA,CACA,kBAAA,CAIF,6BACC,kBAAA,CAEA,mCACC,aAAA,CACA,eAAA,CACA,iBAAA,CACA,cAAA,CAGD,oIAGC,UAAA,CACA,gBAAA,CACA,yCAAA,CACA,kCAAA,CACA,cAAA,CACA,uCAAA,CACA,4BAAA,CAEA,sJACC,yCAAA,CACA,YAAA,CAIF,mCACC,MAAA,CAIF,2BACC,YAAA,CACA,QAAA,CAGD,8BACC,WAAA,CACA,WAAA,CACA,cAAA,CAGD,iCACC,uBAAA,CACA,kBAAA,CACA,OAAA,CACA,cAAA,CACA,0BAAA,CAEA,sDACC,UAAA,CACA,QAAA,CAIF,+BACC,YAAA,CACA,wBAAA,CACA,OAAA,CACA,eAAA,CACA,gBAAA,CACA,wCAAA",sourcesContent:['\n.stage-manager {\n\tpadding: 20px;\n\tmax-width: 900px;\n\n\t&__header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 20px;\n\n\t\th2 {\n\t\t\tmargin: 0;\n\t\t}\n\t}\n}\n\n.stage-item {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 12px;\n\tpadding: 12px 16px;\n\tborder-radius: var(--border-radius-large);\n\tbackground: var(--color-background-dark);\n\ttransition: background 0.2s;\n\tmargin-bottom: 8px;\n\n\t&:hover {\n\t\tbackground: var(--color-background-hover);\n\t}\n\n\t&__color {\n\t\twidth: 12px;\n\t\theight: 12px;\n\t\tborder-radius: 50%;\n\t\tflex-shrink: 0;\n\t}\n\n\t&__info {\n\t\tflex: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 4px;\n\t\tmin-width: 0;\n\t}\n\n\t&__name {\n\t\tfont-weight: bold;\n\t\tfont-size: 14px;\n\t}\n\n\t&__badges {\n\t\tdisplay: flex;\n\t\tgap: 6px;\n\t\tflex-wrap: wrap;\n\t}\n\n\t&__desc {\n\t\tfont-size: 13px;\n\t\tcolor: var(--color-text-maxcontrast);\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\t&__actions {\n\t\tdisplay: flex;\n\t\tgap: 4px;\n\t\tflex-shrink: 0;\n\t}\n}\n\n.drag-handle {\n\tcursor: grab;\n\tdisplay: flex;\n\talign-items: center;\n\tcolor: var(--color-text-maxcontrast);\n\tflex-shrink: 0;\n\n\t&:active {\n\t\tcursor: grabbing;\n\t}\n}\n\n.stage-badge {\n\tfont-size: 11px;\n\tpadding: 2px 8px;\n\tborder-radius: var(--border-radius-pill);\n\tfont-weight: 600;\n\n\t&--initial {\n\t\tbackground: var(--color-primary-element);\n\t\tcolor: var(--color-primary-element-text);\n\t}\n\n\t&--final {\n\t\tbackground: var(--color-success);\n\t\tcolor: white;\n\t}\n\n\t&--sla {\n\t\tbackground: var(--color-warning);\n\t\tcolor: white;\n\t}\n}\n\n.stage-modal {\n\tpadding: 20px;\n\tmin-width: 400px;\n\n\th2 {\n\t\tmargin-top: 0;\n\t\tmargin-bottom: 16px;\n\t}\n}\n\n.form-group {\n\tmargin-bottom: 12px;\n\n\tlabel {\n\t\tdisplay: block;\n\t\tfont-weight: 600;\n\t\tmargin-bottom: 4px;\n\t\tfont-size: 14px;\n\t}\n\n\tinput[type="text"],\n\tinput[type="number"],\n\ttextarea {\n\t\twidth: 100%;\n\t\tpadding: 8px 10px;\n\t\tborder: 1px solid var(--color-border-dark);\n\t\tborder-radius: var(--border-radius);\n\t\tfont-size: 14px;\n\t\tbackground: var(--color-main-background);\n\t\tcolor: var(--color-main-text);\n\n\t\t&:focus {\n\t\t\tborder-color: var(--color-primary-element);\n\t\t\toutline: none;\n\t\t}\n\t}\n\n\t&--half {\n\t\tflex: 1;\n\t}\n}\n\n.form-row {\n\tdisplay: flex;\n\tgap: 12px;\n}\n\n.color-input {\n\theight: 36px;\n\tpadding: 2px;\n\tcursor: pointer;\n}\n\n.checkbox-label {\n\tdisplay: flex !important;\n\talign-items: center;\n\tgap: 8px;\n\tcursor: pointer;\n\tfont-weight: 400 !important;\n\n\tinput[type="checkbox"] {\n\t\twidth: auto;\n\t\tmargin: 0;\n\t}\n}\n\n.form-actions {\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tgap: 8px;\n\tmargin-top: 16px;\n\tpadding-top: 16px;\n\tborder-top: 1px solid var(--color-border);\n}\n'],sourceRoot:""}]);const i=n},4997(t,e,a){a.d(e,{A:()=>s});const r={name:"DeleteIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};const s=(0,a(4486).A)(r,function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon delete-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},[],!1,null,null,null).exports},8290(t,e,a){a.d(e,{A:()=>s});const r={name:"DragHorizontalVariantIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};const s=(0,a(4486).A)(r,function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon drag-horizontal-variant-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M21 11H3V9H21V11M21 13H3V15H21V13Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},[],!1,null,null,null).exports},2413(t,e,a){a.d(e,{A:()=>s});const r={name:"PencilIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};const s=(0,a(4486).A)(r,function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon pencil-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},[],!1,null,null,null).exports},9455(t,e,a){a.r(e),a.d(e,{default:()=>N});var r=a(4095),s=a(9759),o=a(2507),n=a(8289),i=a(6078),l=a(2413),c=a(4997),d=a(8290),A=a(432),p=a.n(A),g=a(5289),u=a(5324),C=a(4452);const m={name:"StageManager",components:{NcButton:r.A,NcModal:s.A,NcEmptyContent:o.A,NcLoadingIcon:n.A,Plus:i.A,Pencil:l.A,Delete:c.A,DragHorizontalVariant:d.A,draggable:p()},data:()=>({stageStore:(0,u.L)(),processTypeStore:(0,C.U)(),showModal:!1,editingId:null,saving:!1,localOrder:[],form:{name:"",description:"",color:"#0082c9",isInitial:!1,isFinal:!1,slaHours:null}}),computed:{processTypeId(){return parseInt(this.$route.params.id,10)},processTypeName(){const t=this.processTypeStore.getById(this.processTypeId);return t?t.name:"Tipo de Processo"},stages(){return this.stageStore.getByProcessType(this.processTypeId)},orderedStages:{get(){return this.localOrder.length>0?this.localOrder:[...this.stages].sort((t,e)=>t.sortOrder-e.sortOrder)},set(t){this.localOrder=t}}},watch:{stages(){this.localOrder=[]}},created(){this.stageStore.fetchByProcessType(this.processTypeId),this.processTypeStore.getById(this.processTypeId)||this.processTypeStore.fetchById(this.processTypeId)},methods:{openCreateModal(){this.editingId=null,this.form={name:"",description:"",color:"#0082c9",isInitial:!1,isFinal:!1,slaHours:null},this.showModal=!0},openEditModal(t){this.editingId=t.id,this.form={name:t.name,description:t.description||"",color:t.color||"#0082c9",isInitial:t.isInitial,isFinal:t.isFinal,slaHours:t.slaHours},this.showModal=!0},closeModal(){this.showModal=!1,this.editingId=null},async saveStage(){this.saving=!0;try{const t={name:this.form.name,description:this.form.description||null,color:this.form.color,isInitial:this.form.isInitial,isFinal:this.form.isFinal,slaHours:this.form.slaHours||null};this.editingId?(await this.stageStore.update(this.editingId,t),(0,g.Te)("Etapa atualizada")):(await this.stageStore.create(this.processTypeId,t),(0,g.Te)("Etapa criada")),this.closeModal()}catch(t){(0,g.Qg)(t.response?.data?.error||"Erro ao salvar etapa")}finally{this.saving=!1}},async confirmDelete(t){if(confirm(`Tem certeza que deseja excluir "${t.name}"?`))try{await this.stageStore.remove(t.id),(0,g.Te)("Etapa excluida")}catch(t){(0,g.Qg)("Erro ao excluir etapa")}},async onDragEnd(){const t=this.orderedStages.map(t=>t.id);try{await this.stageStore.reorder(this.processTypeId,t),(0,g.Te)("Ordem atualizada")}catch(t){(0,g.Qg)("Erro ao reordenar etapas"),this.localOrder=[]}}}},h=m;var f=a(5072),v=a.n(f),y=a(7825),b=a.n(y),x=a(7659),_=a.n(x),w=a(5056),k=a.n(w),I=a(540),B=a.n(I),T=a(1113),E=a.n(T),F=a(4316),S={};S.styleTagTransform=E(),S.setAttributes=k(),S.insert=_().bind(null,"head"),S.domAPI=b(),S.insertStyleElement=B();v()(F.A,S);F.A&&F.A.locals&&F.A.locals;var z=(0,a(4486).A)(h,function(){var t=this,e=t._self._c;return e("div",{staticClass:"stage-manager"},[e("div",{staticClass:"stage-manager__header"},[e("h2",[t._v(t._s(t.processTypeName)+" - Etapas")]),t._v(" "),e("NcButton",{attrs:{type:"primary"},on:{click:t.openCreateModal},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Plus",{attrs:{size:20}})]},proxy:!0}])},[t._v("\n\t\t\tNova Etapa\n\t\t")])],1),t._v(" "),t.stageStore.loading?e("NcLoadingIcon",{attrs:{size:44}}):0===t.stages.length?e("NcEmptyContent",{attrs:{name:"Nenhuma etapa cadastrada",description:"Crie a primeira etapa do fluxo de trabalho para este tipo de processo."},scopedSlots:t._u([{key:"action",fn:function(){return[e("NcButton",{attrs:{type:"primary"},on:{click:t.openCreateModal}},[t._v("\n\t\t\t\tCriar Etapa\n\t\t\t")])]},proxy:!0}])}):e("draggable",{attrs:{handle:".drag-handle"},on:{end:t.onDragEnd},model:{value:t.orderedStages,callback:function(e){t.orderedStages=e},expression:"orderedStages"}},t._l(t.orderedStages,function(a){return e("div",{key:a.id,staticClass:"stage-item"},[e("div",{staticClass:"drag-handle"},[e("DragHorizontalVariant",{attrs:{size:20}})],1),t._v(" "),e("div",{staticClass:"stage-item__color",style:{backgroundColor:a.color||"#808080"}}),t._v(" "),e("div",{staticClass:"stage-item__info"},[e("span",{staticClass:"stage-item__name"},[t._v(t._s(a.name))]),t._v(" "),e("div",{staticClass:"stage-item__badges"},[a.isInitial?e("span",{staticClass:"stage-badge stage-badge--initial"},[t._v("\n\t\t\t\t\t\tInicial\n\t\t\t\t\t")]):t._e(),t._v(" "),a.isFinal?e("span",{staticClass:"stage-badge stage-badge--final"},[t._v("\n\t\t\t\t\t\tFinal\n\t\t\t\t\t")]):t._e(),t._v(" "),a.slaHours?e("span",{staticClass:"stage-badge stage-badge--sla"},[t._v("\n\t\t\t\t\t\tSLA: "+t._s(a.slaHours)+"h\n\t\t\t\t\t")]):t._e()]),t._v(" "),a.description?e("span",{staticClass:"stage-item__desc"},[t._v("\n\t\t\t\t\t"+t._s(a.description)+"\n\t\t\t\t")]):t._e()]),t._v(" "),e("div",{staticClass:"stage-item__actions"},[e("NcButton",{attrs:{type:"tertiary"},on:{click:function(e){return t.openEditModal(a)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Pencil",{attrs:{size:20}})]},proxy:!0}],null,!0)}),t._v(" "),e("NcButton",{attrs:{type:"tertiary"},on:{click:function(e){return t.confirmDelete(a)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Delete",{attrs:{size:20}})]},proxy:!0}],null,!0)})],1)])}),0),t._v(" "),t.showModal?e("NcModal",{on:{close:t.closeModal}},[e("div",{staticClass:"stage-modal"},[e("h2",[t._v(t._s(t.editingId?"Editar":"Nova")+" Etapa")]),t._v(" "),e("form",{on:{submit:function(e){return e.preventDefault(),t.saveStage.apply(null,arguments)}}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"stage-name"}},[t._v("Nome *")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],attrs:{id:"stage-name",type:"text",required:"",placeholder:"Ex: Analise Inicial"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"stage-description"}},[t._v("Descricao")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],attrs:{id:"stage-description",placeholder:"Descricao da etapa",rows:"3"},domProps:{value:t.form.description},on:{input:function(e){e.target.composing||t.$set(t.form,"description",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group form-group--half"},[e("label",{attrs:{for:"stage-color"}},[t._v("Cor")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.color,expression:"form.color"}],staticClass:"color-input",attrs:{id:"stage-color",type:"color"},domProps:{value:t.form.color},on:{input:function(e){e.target.composing||t.$set(t.form,"color",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group form-group--half"},[e("label",{attrs:{for:"stage-sla"}},[t._v("SLA (horas)")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.form.slaHours,expression:"form.slaHours",modifiers:{number:!0}}],attrs:{id:"stage-sla",type:"number",min:"0",placeholder:"Ex: 48"},domProps:{value:t.form.slaHours},on:{input:function(e){e.target.composing||t.$set(t.form,"slaHours",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group form-group--half"},[e("label",{staticClass:"checkbox-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.isInitial,expression:"form.isInitial"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.isInitial)?t._i(t.form.isInitial,null)>-1:t.form.isInitial},on:{change:function(e){var a=t.form.isInitial,r=e.target,s=!!r.checked;if(Array.isArray(a)){var o=t._i(a,null);r.checked?o<0&&t.$set(t.form,"isInitial",a.concat([null])):o>-1&&t.$set(t.form,"isInitial",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"isInitial",s)}}}),t._v("\n\t\t\t\t\t\t\tEtapa Inicial\n\t\t\t\t\t\t")])]),t._v(" "),e("div",{staticClass:"form-group form-group--half"},[e("label",{staticClass:"checkbox-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.isFinal,expression:"form.isFinal"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.isFinal)?t._i(t.form.isFinal,null)>-1:t.form.isFinal},on:{change:function(e){var a=t.form.isFinal,r=e.target,s=!!r.checked;if(Array.isArray(a)){var o=t._i(a,null);r.checked?o<0&&t.$set(t.form,"isFinal",a.concat([null])):o>-1&&t.$set(t.form,"isFinal",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"isFinal",s)}}}),t._v("\n\t\t\t\t\t\t\tEtapa Final\n\t\t\t\t\t\t")])])]),t._v(" "),e("div",{staticClass:"form-actions"},[e("NcButton",{attrs:{type:"tertiary"},on:{click:t.closeModal}},[t._v("\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t")]),t._v(" "),e("NcButton",{attrs:{type:"primary","native-type":"submit",disabled:t.saving}},[t._v("\n\t\t\t\t\t\t"+t._s(t.saving?"Salvando...":"Salvar")+"\n\t\t\t\t\t")])],1)])])]):t._e()],1)},[],!1,null,"963e9dba",null);const N=z.exports},4095(t,e,a){a.d(e,{A:()=>r.N});var r=a(4294)}}]);
//# sourceMappingURL=tramita-src_views_StageManager_vue.js.map?v=4be694f65c5ec85a64ca